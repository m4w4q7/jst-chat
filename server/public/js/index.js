!function e(t,n,s){function o(i,c){if(!n[i]){if(!t[i]){var a="function"==typeof require&&require;if(!c&&a)return a(i,!0);if(r)return r(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[i]={exports:{}};t[i][0].call(f.exports,function(e){var n=t[i][1][e];return o(n?n:e)},f,f.exports,e,t,n,s)}return n[i].exports}for(var r="function"==typeof require&&require,i=0;i<s.length;i++)o(s[i]);return o}({1:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),r=function(){function e(t,n){s(this,e),this.contacts=[],this._$scope=t,this._socket=n,this._registerSocketListeners(),this._socket.emit("getContacts")}return o(e,[{key:"_registerSocketListeners",value:function(){var e=this;this._socket.on("contacts",function(t){e.contacts=t,e._$scope.$applyAsync()}),this._socket.on("contactAdded",function(t){e.contacts.push(t),e._$scope.$applyAsync()})}},{key:"addContact",value:function(e){this._socket.emit("addContact",e)}},{key:"getMessages",value:function(e){this._socket.emit("getMessages",e)}}],[{key:"withDependencies",get:function(){return i}}]),e}(),i=["$scope","socket",r];t.exports=r},{}],2:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),r=function(){function e(t,n){s(this,e),this.messages=[],this._to="",this._$scope=t,this._socket=n,this._registerSocketListeners()}return o(e,[{key:"addMessage",value:function(e){this._to&&this._socket.emit("addMessage",{to:this._to,content:e})}},{key:"isLoaded",value:function(){return!!this._to}},{key:"_registerSocketListeners",value:function(){var e=this;this._socket.on("messages",function(t){e._to=t.contactName,e.messages=t.messages,e._$scope.$applyAsync()}),this._socket.on("newMessage",function(t){(e._to===t.from||e._to===t.to)&&(e.messages.push(t),e._$scope.$applyAsync())})}}],[{key:"withDependencies",get:function(){return i}}]),e}(),i=["$scope","socket",r];t.exports=r},{}],3:[function(e,t,n){"use strict";var s=e("./services/socket.js"),o=e("./controllers/contact-list.js"),r=e("./controllers/message-list.js");angular.module("jstChat",[]).service("socket",s.withDependencies).controller("contactList",o.withDependencies).controller("messageList",r.withDependencies)},{"./controllers/contact-list.js":1,"./controllers/message-list.js":2,"./services/socket.js":4}],4:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),r=function(){function e(t){s(this,e),this._socket=t.io(),this._socket.on("jstcError",function(e){t.alert(e)})}return o(e,[{key:"emit",value:function(e,t){this._socket.emit(e,t)}},{key:"on",value:function(e,t){this._socket.on(e,t)}}],[{key:"withDependencies",get:function(){return i}}]),e}(),i=["$window",r];t.exports=r},{}]},{},[3]);
//# sourceMappingURL=../map/index.js.map